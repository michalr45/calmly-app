(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["embedded"],{"14c3":function(e,t,r){var n=r("da84"),a=r("c65b"),c=r("825a"),u=r("1626"),o=r("c6b6"),d=r("9263"),i=n.TypeError;e.exports=function(e,t){var r=e.exec;if(u(r)){var n=a(r,e,t);return null!==n&&c(n),n}if("RegExp"===o(e))return a(d,e,t);throw i("RegExp#exec called on incompatible receiver")}},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("6b75");function a(e){if(Array.isArray(e))return Object(n["a"])(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var u=r("06c5");r("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){return a(e)||c(e)||Object(u["a"])(e)||o()}},"466d":function(e,t,r){"use strict";var n=r("c65b"),a=r("d784"),c=r("825a"),u=r("50c4"),o=r("577e"),d=r("1d80"),i=r("dc4a"),l=r("8aa5"),s=r("14c3");a("match",(function(e,t,r){return[function(t){var r=d(this),a=void 0==t?void 0:i(t,e);return a?n(a,t,r):new RegExp(t)[e](o(r))},function(e){var n=c(this),a=o(e),d=r(t,n,a);if(d.done)return d.value;if(!n.global)return s(n,a);var i=n.unicode;n.lastIndex=0;var b,p=[],f=0;while(null!==(b=s(n,a))){var v=o(b[0]);p[f]=v,""===v&&(n.lastIndex=l(a,u(n.lastIndex),i)),f++}return 0===f?null:p}]}))},"6b5b":function(e,t,r){"use strict";r("ccb5")},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},ccb5:function(e,t,r){},d1e1:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=function(e){return Object(n["t"])("data-v-652f9177"),e=e(),Object(n["r"])(),e},c={class:"add-form"},u=Object(n["g"])(" Paste YouTube video url: Â "),o=a((function(){return Object(n["f"])("input",{type:"submit",value:"Add",id:"add-button"},null,-1)})),d={key:0},i={class:"container"},l=["src"],s=["onClick"];function b(e,t,r,a,b,p){return Object(n["q"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",c,[Object(n["f"])("form",{onSubmit:t[1]||(t[1]=Object(n["G"])((function(){return p.addEmbeddedSound&&p.addEmbeddedSound.apply(p,arguments)}),["prevent"]))},[u,Object(n["F"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return b.urlInput=e})},null,512),[[n["B"],b.urlInput]]),o],32),b.error?(Object(n["q"])(),Object(n["e"])("p",d,Object(n["z"])(b.error),1)):Object(n["d"])("",!0)]),Object(n["f"])("div",i,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(b.embeddedSounds,(function(e){return Object(n["q"])(),Object(n["e"])("div",{key:e.id,class:"item"},[Object(n["f"])("iframe",{width:"560",height:"315",src:e[1],title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;\r\n              picture-in-picture",allowfullscreen:""},"\r\n      ",8,l),Object(n["f"])("button",{onClick:function(t){return p.deleteEmbeddedSound(e[2])}},"delete",8,s)])})),128))]),Object(n["F"])(Object(n["f"])("p",null,"...loading",512),[[n["C"],b.loading]])],64)}var p=r("b85c"),f=r("2909"),v=r("1da1"),m=(r("96cf"),r("ac1f"),r("466d"),r("5ce5")),h={name:"Embedded.vue",data:function(){return{retrievedUrls:[],embeddedSounds:[],loading:!1,urlInput:null,error:null}},methods:{getEmbeddedSounds:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,n,a,c,u,o,d,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="/api/embedded_sounds/",e.loading=!0,t.prev=2,t.next=5,m["a"].get(r);case 5:a=t.sent,(n=e.retrievedUrls).push.apply(n,Object(f["a"])(a.data)),c=Object(p["a"])(e.retrievedUrls),t.prev=8,c.s();case 10:if((u=c.n()).done){t.next=21;break}return o=u.value,d="https://www.youtube.com/oembed?url=".concat(o.url),t.next=15,m["a"].get(d);case 15:i=t.sent,l=i.data.html.match(/src="([^"]+)"/),l.push(o.id),e.embeddedSounds.push(l);case 19:t.next=10;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](8),c.e(t.t0);case 26:return t.prev=26,c.f(),t.finish(26);case 29:e.loading=!1,console.log(e.embeddedSounds),t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](2),console.log(t.t1);case 36:case"end":return t.stop()}}),t,null,[[2,33],[8,23,26,29]])})))()},addEmbeddedSound:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.urlInput&&e.urlInput.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?(?:youtube\.com|youtu.be)(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/)){t.next=3;break}return e.error="Provided answer does not match the correct url pattern. Please use only links to YouTube videos.",t.abrupt("return");case 3:return r="/api/embedded_sounds/",t.prev=4,t.next=7,m["a"].post(r,{url:e.urlInput});case 7:e.urlInput=null,location.reload(),e.error&&(e.error=null),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},deleteEmbeddedSound:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="/api/embedded_sounds/".concat(e,"/"),t.prev=1,t.next=4,m["a"].delete(r);case 4:location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},created:function(){this.getEmbeddedSounds()}},w=(r("6b5b"),r("6b0d")),j=r.n(w);const O=j()(h,[["render",b],["__scopeId","data-v-652f9177"]]);t["default"]=O},d784:function(e,t,r){"use strict";r("ac1f");var n=r("e330"),a=r("6eeb"),c=r("9263"),u=r("d039"),o=r("b622"),d=r("9112"),i=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,s){var b=o(e),p=!u((function(){var t={};return t[b]=function(){return 7},7!=""[e](t)})),f=p&&!u((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[i]=function(){return r},r.flags="",r[b]=/./[b]),r.exec=function(){return t=!0,null},r[b](""),!t}));if(!p||!f||r){var v=n(/./[b]),m=t(b,""[e],(function(e,t,r,a,u){var o=n(e),d=t.exec;return d===c||d===l.exec?p&&!u?{done:!0,value:v(t,r,a)}:{done:!0,value:o(r,t,a)}:{done:!1}}));a(String.prototype,e,m[0]),a(l,b,m[1])}s&&d(l[b],"sham",!0)}}}]);
//# sourceMappingURL=embedded.a50a641b.js.map