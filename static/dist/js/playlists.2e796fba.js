"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[944],{162:function(t,l,e){e.r(l),e.d(l,{default:function(){return f}});var s=e(252),a=e(577);const i={class:"container"},o=["onClick"],n=["onClick"],c={class:"container"},r=["src"],u={loop:"",autoplay:""},p=["src"],y=["value"];function d(t,l,e,d,g,h){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.playlists,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"playlist-item"},[(0,s._)("button",{onClick:l=>{h.playPlaylist(t.id),h.changeButtonColor(l.target)},class:"playlist-btn"},(0,a.zw)(t.name),9,o),(0,s._)("button",{onClick:l=>h.deletePlaylist(t.id),class:"delete-button"},"delete",8,n)])))),128))]),(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.playlistItems,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"icon-box",key:t.id},[(0,s._)("img",{src:t[0],onClick:l[0]||(l[0]=t=>h.playAudio(t))},null,8,r),(0,s._)("audio",u,[(0,s._)("source",{src:t[1]},null,8,p)]),(0,s._)("input",{type:"range",value:h.setDefaultSliderPosition(t[2]),min:"0",max:"100",step:"1",onChange:l[1]||(l[1]=t=>h.setVolume(t,t.target.value))},null,40,y)])))),128))])],64)}var g=e(718),h={name:"Playlists",data(){return{playlists:[],playlistItems:[]}},methods:{async getPlaylists(){const t="/api/playlists/playlists/";try{const l=await g.o.get(t);this.playlists.push(...l.data)}catch(l){console.log(l)}},async playPlaylist(t){this.playlistItems=[];const l=`/api/playlists/playlists/${t}/`;try{const t=await g.o.get(l);this.playlistItems.push(...t.data.sounds)}catch(a){console.log(a)}await(0,s.Y3)();let e=document.querySelectorAll("audio");for(let s=0;s<e.length;s++)e[s].volume=this.playlistItems[s][2]},playAudio(t){let l=t.target.nextSibling,e=t.target.src.split(".png")[0];l.paused?(l.play(),t.target.src=e+"-white.png"):(l.pause(),t.target.src=t.target.src.split("-white.png")[0]+".png")},setVolume(t,l){let e=t.target.previousSibling;e.volume=l/100},setDefaultSliderPosition(t){return"1"!==t&&"0"!==t?(t=t.split(".")[1],1===t.length&&(t+="0"),t):"1"===t?(t="100",t):"0"===t?(t="0",t):void 0},changeButtonColor(t){const l=document.querySelectorAll(".playlist-btn"),e=document.querySelectorAll(".delete-button");for(let s of l)s.classList.remove("active");for(let s of e)s.classList.remove("active");t.classList.toggle("active"),t.nextSibling.classList.toggle("active")},async deletePlaylist(t){const l=`/api/playlists/playlists/${t}/`;try{await g.o.delete(l),location.reload()}catch(e){console.log(e)}}},created(){this.getPlaylists()}},m=e(744);const v=(0,m.Z)(h,[["render",d],["__scopeId","data-v-79e1d030"]]);var f=v}}]);
//# sourceMappingURL=playlists.2e796fba.js.map